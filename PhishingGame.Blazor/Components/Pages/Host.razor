@using Radzen.Blazor
@using Core
@using Core.Models

@inject IServiceProvider _serviceProvider
@inject ISessionManager _sessionManager
@inject NavigationManager _navigator
@page "/host"



@if (Session == null)
{
    <RadzenButton Click="@OnClick">Start nieuwe sessie</RadzenButton>
}

@code {
    public Session? Session { get; set; }
    public ILinkedState? CurrentState => Session?.CurrentState;

    public void OnClick()
    {
        Session = _sessionManager.CreateSession(new(), _serviceProvider);
        Session.Initialize();
        _navigator.NavigateTo($"session/{Session.SessionId}", true);
    }
}
